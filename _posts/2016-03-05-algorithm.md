---
layout: post
title: 剑指实习————算法问题整理(一)
description: 坚持就是胜利，量变引发质变。
key: blog
---

# 前言

随着历时42天的超长寒假的结束，紧张而苦逼的大三下生活就此开始。对于开学，我一开始是拒绝的。因为宝宝只在家休息了两个星期多点，根本没休息够有木有！提到这就已经开学了，我也是一脸的懵逼呀……我都干了什么，为毛现在就开学了呀……

吐槽完了也该回归正轨了，大三下之所以苦逼，因为我们的学制比较苦逼，大四是要出去实习的，实习是有学分的，再加之各种各样的问题困惑，比如读研呀，人生规划呀，等等等等……所以大三下就要在面临各种人生大问题的同时各种投简历，应付各种招聘面试，获取各种offer，当然学分只是一个小事情，重要的还是经验和自己能力的提升。为了更好地备战实习的笔试面试，结合一下之前两年半的ACM经验，整理一下各类算法和数据结构问题涉及到的知识点，水平有限，还望见谅。

# 字符串专题

### 最长回文子串

问题描述应该很明显，单纯看字面就能知道问题。这类问题是字符串问题中的典型问题，解法也是多种多样。这里我就列举一些比较常见的做法。

#### 解法一：字符串哈希+二分法

这种做法是最为简单粗暴的做法，在不涉及到其他数据结构特殊性质的前提下，几乎所有的字符串问题都可以用哈希解决之。流程如下，首先将字符串哈希，得到哈希值数组，然后通过二分法枚举长度，之后枚举起点判断是否回文即可。需要注意的就是回文串长度是奇数和偶数的时候性质不同，即中心点的属性不同，所以二分的时候需要单独考虑，即过程中二分一次奇数，再二分一次偶数，之后取答案的最大值即可。时间复杂度O(nlogn)。

#### 解法二：后缀数组

在字符串后添加一个特殊字符，然后将字符串翻转加在原字符串后面。这样的话，如果存在回文子串的话，那么必然有两个后缀的前缀是一样的，所以利用这个性质结合后缀数组，用RMQ求一下即可。同样需要注意奇偶。但是呢，由于后缀数组本身的低效，虽然时间复杂度为O(nlogn)，但是仍然极度不推荐这个方法，仅作了解就好。

#### 解法三：Manacher算法

这个算法用来专门处理回文子串的问题。巧妙之处在于其在每两个字符之间加入一个特殊字符，这样使得奇偶不需要再特殊讨论。同样利用回文串的性质，如果[i,j]这个区间是一个回文串，那么[i-1,j+1]就有可能也是一个回文串，反之同理。同样根据[i,j]是回文串的性质，也可以得到其他很多信息，这样就得到了一个类似动态规划转移方程的东西，这就构成了Manacher算法。算法时间复杂度O(n)。

### 字典树问题

这个问题呢，主要涉及给出一个字典，通常抽象为一堆字符串，如何高效的整合这个字典，即高效的存储，使得使其能够高效地统计和查找。这个问题涉及到的就是一个非常常用的数据结构Trie——字典树。通过一棵树维护一个字典，在树的每个节点记录一个字母，这样从根节点走过来的路径就构成了一个单词或者一个单词的前缀，这样在每个节点维护其他信息就可以高效地进行统计了，比如记录以该节点为根节点的子树有多少个叶子节点，就相当于记录了前缀为XXX的单词有多少个，等等。结构如图
<div class="box fn-clear">
	<img src="/images/trie.jpg" />
</div>
这样就大大节省了空间，仅用11单节点维护了4个字符串，同时维护了更多有用的统计信息。

### 字符串匹配及最长公共子串问题

同样字符串经典问题之一，解法同样很多。

#### 解法一：KMP算法

需要注意的是KMP算法只能处理字符串匹配问题，同时利用KMP算法中next数组的性质，还可以计算字符串的最小循环节。算法过程不再赘述，时间复杂度O(M+N)。

#### 解法二：字符串哈希+二分

字符串处理神奇哈希再度彰显魅力，匹配问题不需要借助二分即可解决。最长公共子串问题则需要，利用公共子串长度单调的性质，二分子串长度，枚举起点进行查找即可。需要注意的细节就是，查找过程不能通过暴力查找的方法，需要借助set或者hashtable等维护。具体过程如下，二分长度，得到当前需要验证的长度Mid，将字符串A所有长度为Mid的子串丢到set，枚举字符串B长度为Mid的子串，一旦碰到在set中存在的值即可确定二者存在一个长度Mid的公共子串。时间复杂度O(nlogn)。

#### 解法三：后缀数组

后缀数组可谓处理字符串的第二大神器，个人认为除了hash之外最屌的东西。同样，匹配和最长公共子串问题也可以用后缀数组解决。但是实现复杂度相对较高，过程同样是后缀数组+RMQ。时间复杂度O(nlogn)。

### 后话

以上涉及到的知识点几乎可以处理大部分字符串问题了，但是仍然有小部分不能解决，其中最典型的就是自动机问题，问题模型如下，给出一个字符串，给出一个字典，判断字符串是否包含了所有字典中的字符串，这个问题显然就需要通过自动机的性质来解了，其实呢具体也很简单，就是在Trie的基础上加一些边，将这个树变成图，实现自动转移。当然还有更多的问题需要自己挖掘。

总结一下，知识点：KMP、哈希、Manacher、后缀数组

# 动态规划专题

动态规划这类问题见得最多，同样也是解法最多样的，因为它没有固定的解法，但是所有的动态规划都符合两大特点：最优子结构和重叠子问题。动态规划问题的另一大特点就是结果只受状态转移的影响，而不受该状态决策的影响，这个特点叫做无后效性。也就是说，一个问题不是动态规划的问题，可能换一种状态的定义就转变成了动态规划。

### 数字三角形

这是动态规划中最经典的几大问题之一，给出一个由数字堆叠而成的三角形，选择一条从顶点走到低端的路径，每个数字只能想左下或者右下的数字走，使得路径之和最大或者最小。

#### 分析：

最先想到的一定是深搜，即暴力枚举每条路径，计算权值。但是这样无疑会增大复杂度，不妨这样想，大三角形内的子三角形，这个三角形的顶点可以通过上面一层的两个走过来，也就是说，计算上面这两个的时候这部分三角形被重复计算了，这个就是典型重叠子问题，同样，这个小三角形是存在最优解的，也就是说在计算过程中，没必要每次计算整个三角形，计算一次即可，这就是最优子结构。于是做法就很明了，采用深搜+记忆化，定义状态F[i,j]表示以第i行第j个数字为起点，能得到的最大值，转移也很简单，F[i,j]的答案，由F[i+1,j]和F[i+1,j+1]的最大值决定，最后的答案为F[1,1]。计算过程需要注意边界条件。

### 01背包问题

同样是动态规划问题中的经典问题之一，N个物品，背包空间为M，每个物品有大小和权值，不考虑物品形状，选出一些物品使得价值最大。

#### 分析：

首先还是应该想到最暴力的做法，枚举二进制串，第i位上的01表示取或者不取该物品，计算。该问题也是由此得名成为01背包问题。我们考虑这样一个细节，同样是两组空间和为X的物品，他们具有不同的价值和，我只需要保证最终的价值最大，而不需要知道取走了哪些物品，这样的话枚举每个物品是否被取走的意义就不是很大了，于是定义状态F[i]，表示空间大小为i的时候的价值最大值。此时，我们只需要知道这个物品可以加到哪些已经存在的状态上，并且更新状态的答案即可。时间复杂度O(NM)。

### 最长上升子序列

给出一个数字序列，找出其中一个子序列，使得其递增并且长度最长。

#### 分析：

最暴力的方法可以随便YY了，多种多样，随意发挥想象力，这里只分析比较正常的做法。考虑这样一个细节，对于最后一个数字构成的子序列来说，它一定符合要求，长度为1，再考察倒数第二个数，这时他有两种可能，如果小于最后一个，那么这两个就构成了新的答案2；如果大于最后一个数字的话，那么答案就没有被更新还是1，这样看来的话，每个数字都是这样的决策，只不过不是考察最后两个数字而是考察他跟之后所有数字的关系，定义状态F[i]表示以第i个数字为开头的最长上升子序列长度，方程如下：F[i] = max(F[j]+1){A[i] < A[j] && i < j}。时间复杂度O(N*N)。

### 最长公共子序列

给出两个字符串，找到最长的公共子序列，有别于最长公共子串，这个子序列可以不连续。

#### 分析：

很容易能够想到，这个问题可以这样分解，在字符串A划一刀，字符串B划一刀，得到位置i和位置j，下一步的决策分成了两种情况，如果A[i] == B[j]，那么答案就是ans[i-1][j-1]+1，如果不相等就是ans[i-1][j]和ans[i][j-1]的最大值(想一想，为什么？)这样问题迎刃而解。时间复杂度O(MN)。

### 后话

以上就是几大动态规划的经典问题，看完了之后是不是觉得动态规划很神奇呢？反正我当时学完是一脸懵逼了，总结下来就两句话：这TM也是动态规划？这TM也能动态规划？OK，回归主题，动态规划问题领域无穷，还有很多分类，比如区间动规、字符串动规、图上的动规等等，再比如从背包问题引申出来的完全背包、部分背包等等……应付的方案呢也只能是多看多想了。

# 写在不是最后的最后

目前呢，只整理好了字符串部分和动态规划的部分，其他的部分以后整理，我争取每天更新几个小专题，争取3-5天把面试笔试涉及到的算法数据结构问题大部分都覆盖到！也希望各位能在笔试面试中发挥出色，取得心仪的offer~

# 吐槽一下

话说为毛42天的超长寒假我只在家休息了两个星期呢？其实事情是这样的……在上个学期临近结束的时候，接到了日语恩师的传唤，说是有一个寒假赴日交流的机会，问我要不要去。一开始听到这个消息，我真的还以为是在做梦，有生之年没想到还有这样的好机会。于是就在刚放假的19天里，赴日体验了一下生活，再加上过年各种杂七杂八的事物，真正休息的也就只剩2个星期多点了……不过呢，有失必有得，此次赴日还是收获颇丰的，收获等到日后搞定各类DT的事物在更新吧~