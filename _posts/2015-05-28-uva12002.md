---
layout: post
title: UVA - 12002 - Happy Birthday
description: 坚持就是胜利，量变引发质变。
key: blog
---

###题目描述：

有一个盘子的序列，对于一个盘子的Stack，只要下面的盘子比上面的所有盘子大小要大（等于也可），就可以稳定，问在保持稳定的情况下，最多可以取多少盘子。

###解题思路：

比较容易想到的就是，答案应该跟最长上升和最长下降序列有关系。这样的话就先处理出来以一个数字为开头的最长上升和最长下降，但是有一个小问题就是会有重叠的部分。
对于这个问题，有两个解决方案

*因为数据量只有500，所以在最后计算答案的时候，只需要往后多看两个状态，对于当前的a[i]，找到它之后比他大的a[j]的最长上升的最大值，相减就是a[i]在序列中的个数，下降同理。
*再有一种就是利用nlogn算法中生成的序列来计算，用STL中的equal_range函数，得到序列中a[i]的区间，减掉即可。

###代码：

<a href="http://paste.ubuntu.com/11404573/">点我查看~~</a>